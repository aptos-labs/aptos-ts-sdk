// Copyright Â© Aptos Foundation
// SPDX-License-Identifier: Apache-2.0

import {
  Account,
  Aptos,
  UserTransactionResponse,
  TypeTag,
  EntryFunctionArgumentTypes,
  HexInput,
  InputGenerateTransactionData,
  InputViewFunctionData,
  SimpleEntryFunctionArgumentTypes,
  MoveVector,
  AnyRawTransaction,
  isUserTransactionResponse,
  Ed25519PrivateKey,
  EphemeralKeyPair,
  generateTransactionPayload,
  InputEntryFunctionData,
} from "../../../src";
import { FUND_AMOUNT, TRANSFER_AMOUNT } from "../../unit/helper";
import { getAptosClient } from "../helper";

export const EPHEMERAL_KEY_PAIR = new EphemeralKeyPair({
  privateKey: new Ed25519PrivateKey("ed25519-priv-0x1111111111111111111111111111111111111111111111111111111111111111"),
  expiryDateSecs: 1735475012, // Expires Sunday, December 29, 2024 12:23:32 PM GMT
  blinder: new Uint8Array(31),
});

export async function publishPackage(
  aptos: Aptos,
  senderAccount: Account,
  metadataBytes: HexInput,
  codeBytes: Array<HexInput>,
) {
  const rawTransaction = await aptos.publishPackageTransaction({
    account: senderAccount.accountAddress,
    metadataBytes,
    moduleBytecode: codeBytes,
  });
  const signedTxn = await aptos.transaction.sign({
    signer: senderAccount,
    transaction: rawTransaction,
  });
  const txnHash = await aptos.transaction.submit.simple({
    transaction: rawTransaction,
    senderAuthenticator: signedTxn,
  });

  const response = await aptos.waitForTransaction({
    transactionHash: txnHash.hash,
  });

  if (!isUserTransactionResponse(response)) {
    throw new Error("Expected user transaction response");
  }

  return response;
}

// Instead of funding each account individually, we fund one twice, then send coins from it to the rest
// This results in 2 fund requests and 1 transaction instead of N fund requests. For running tests,
// this saves 10-15 seconds each run.
export async function fundAccounts(aptos: Aptos, accounts: Array<Account>) {
  // Fund first account
  const firstAccount = accounts[0];
  // Fund the first account twice to make sure it has enough coins to send to the rest
  await aptos.fundAccount({ accountAddress: firstAccount.accountAddress, amount: FUND_AMOUNT });
  await aptos.fundAccount({ accountAddress: firstAccount.accountAddress, amount: FUND_AMOUNT });
  // Get the addresses for `accounts[1..n]`
  const addressesRemaining = accounts.slice(1).map((account) => account.accountAddress);
  const amountToSend = Math.floor((FUND_AMOUNT * 2) / accounts.length);
  // Send coins from `account[0]` to `account[1..n]`
  const transaction = await aptos.transaction.build.simple({
    sender: firstAccount.accountAddress,
    data: {
      function: "0x1::aptos_account::batch_transfer",
      functionArguments: [
        new MoveVector(addressesRemaining),
        MoveVector.U64(addressesRemaining.map(() => amountToSend)),
      ],
    },
  });
  const signedTxn = await aptos.transaction.sign({
    signer: firstAccount,
    transaction,
  });
  const transactionResponse = await aptos.transaction.submit.simple({
    transaction,
    senderAuthenticator: signedTxn,
  });
  const response = await aptos.waitForTransaction({
    transactionHash: transactionResponse.hash,
  });
  if (!isUserTransactionResponse(response)) {
    throw new Error("Expected user transaction response");
  }
  return response;
}

export async function createAndFundMultisigAccount(owner: Account) {
  const { aptos } = getAptosClient();
  const payload: InputViewFunctionData = {
    function: "0x1::multisig_account::get_next_multisig_account_address",
    functionArguments: [owner.accountAddress.toString()],
  };
  const [multisigAddress] = await aptos.view<[string]>({ payload });
  const createMultisig = await aptos.transaction.build.simple({
    sender: owner.accountAddress,
    data: {
      function: "0x1::multisig_account::create",
      functionArguments: [1, [], []],
    },
  });
  const ownerAuthenticator = aptos.transaction.sign({ signer: owner, transaction: createMultisig });
  const res = await aptos.transaction.submit.simple({
    senderAuthenticator: ownerAuthenticator,
    transaction: createMultisig,
  });
  await aptos.waitForTransaction({ transactionHash: res.hash });
  await aptos.fundAccount({ accountAddress: multisigAddress, amount: FUND_AMOUNT });
  return multisigAddress;
}

export async function createMultisigTransaction(
  owner: Account,
  multisigAddress: string,
  multisigEntryFunction: InputEntryFunctionData,
) {
  const { aptos, config } = getAptosClient();
  const transactionPayload = await generateTransactionPayload({
    multisigAddress,
    function: multisigEntryFunction.function,
    functionArguments: multisigEntryFunction.functionArguments,
    aptosConfig: config,
  });
  const createMultisigTx = await aptos.transaction.build.simple({
    sender: owner.accountAddress,
    data: {
      function: "0x1::multisig_account::create_transaction",
      functionArguments: [multisigAddress, transactionPayload.multiSig.transaction_payload!.bcsToBytes()],
    },
  });

  const createMultisigTxAuthenticator = aptos.transaction.sign({ signer: owner, transaction: createMultisigTx });

  const createMultisigTxResponse = await aptos.transaction.submit.simple({
    senderAuthenticator: createMultisigTxAuthenticator,
    transaction: createMultisigTx,
  });
  await aptos.waitForTransaction({ transactionHash: createMultisigTxResponse.hash });
}

export async function simpleCoinTransactionHeler(aptos: Aptos, sender: Account, recipient: Account) {
  const senderFundTxn = await aptos.fundAccount({
    accountAddress: sender.accountAddress,
    amount: FUND_AMOUNT,
  });
  const recipientFundTxn = await aptos.fundAccount({
    accountAddress: recipient.accountAddress,
    amount: FUND_AMOUNT,
  });

  const senderOldBalance = await aptos.getAccountAPTAmount({
    accountAddress: sender.accountAddress,
    minimumLedgerVersion: Number(senderFundTxn.version),
  });
  const recipientOldBalance = await aptos.getAccountAPTAmount({
    accountAddress: recipient.accountAddress,
    minimumLedgerVersion: Number(recipientFundTxn.version),
  });

  const transaction = await aptos.transferCoinTransaction({
    sender: sender.accountAddress,
    recipient: recipient.accountAddress,
    amount: TRANSFER_AMOUNT,
  });

  const pendingTxn = await aptos.signAndSubmitTransaction({ signer: sender, transaction });
  const committedTxn = await aptos.waitForTransaction({ transactionHash: pendingTxn.hash });
  const version = Number(committedTxn.version);

  const senderNewBalance = await aptos.getAccountAPTAmount({
    accountAddress: sender.accountAddress,
    minimumLedgerVersion: version,
  });
  const recipientNewBalance = await aptos.getAccountAPTAmount({
    accountAddress: recipient.accountAddress,
    minimumLedgerVersion: version,
  });

  expect(senderOldBalance - senderNewBalance).toBeGreaterThan(TRANSFER_AMOUNT);
  expect(recipientNewBalance - recipientOldBalance).toEqual(TRANSFER_AMOUNT);
}

// Transaction builder helpers
// single signer
export async function rawTransactionHelper(
  aptos: Aptos,
  senderAccount: Account,
  functionName: string,
  typeArgs: TypeTag[],
  args: Array<EntryFunctionArgumentTypes | SimpleEntryFunctionArgumentTypes>,
): Promise<UserTransactionResponse> {
  const rawTransaction = await aptos.transaction.build.simple({
    sender: senderAccount.accountAddress,
    data: {
      function: `${senderAccount.accountAddress}::tx_args_module::${functionName}`,
      typeArguments: typeArgs,
      functionArguments: args,
    },
  });
  const senderAuthenticator = await aptos.transaction.sign({
    signer: senderAccount,
    transaction: rawTransaction,
  });
  const transactionResponse = await aptos.transaction.submit.simple({
    transaction: rawTransaction,
    senderAuthenticator,
  });
  const response = await aptos.waitForTransaction({
    transactionHash: transactionResponse.hash,
  });
  if (!isUserTransactionResponse(response)) {
    throw new Error("Expected user transaction response");
  }
  return response;
}

// multi agent/fee payer
export const rawTransactionMultiAgentHelper = async (
  aptos: Aptos,
  senderAccount: Account,
  functionName: string,
  typeArgs: Array<TypeTag>,
  args: Array<EntryFunctionArgumentTypes | SimpleEntryFunctionArgumentTypes>,
  secondarySignerAccounts: Array<Account>,
  feePayerAccount?: Account,
): Promise<UserTransactionResponse> => {
  let transactionData: InputGenerateTransactionData;
  let generatedTransaction: AnyRawTransaction;
  // Fee payer
  if (feePayerAccount) {
    transactionData = {
      sender: senderAccount.accountAddress,
      data: {
        function: `${senderAccount.accountAddress}::tx_args_module::${functionName}`,
        typeArguments: typeArgs,
        functionArguments: args,
      },
      secondarySignerAddresses: secondarySignerAccounts?.map((account) => account.accountAddress.data),
      withFeePayer: true,
    };
    generatedTransaction = await aptos.transaction.build.multiAgent(transactionData);
  } else if (secondarySignerAccounts) {
    transactionData = {
      sender: senderAccount.accountAddress,
      data: {
        function: `${senderAccount.accountAddress}::tx_args_module::${functionName}`,
        typeArguments: typeArgs,
        functionArguments: args,
      },
      secondarySignerAddresses: secondarySignerAccounts?.map((account) => account.accountAddress.data),
    };
    generatedTransaction = await aptos.transaction.build.multiAgent(transactionData);
  } else {
    transactionData = {
      sender: senderAccount.accountAddress,
      data: {
        function: `${senderAccount.accountAddress}::tx_args_module::${functionName}`,
        typeArguments: typeArgs,
        functionArguments: args,
      },
    };
    generatedTransaction = await aptos.transaction.build.simple(transactionData);
  }

  const senderAuthenticator = aptos.transaction.sign({
    signer: senderAccount,
    transaction: generatedTransaction,
  });

  const secondaryAuthenticators = secondarySignerAccounts.map((account) =>
    aptos.transaction.sign({
      signer: account,
      transaction: generatedTransaction,
    }),
  );

  let feePayerAuthenticator;
  let transactionResponse;
  if (feePayerAccount !== undefined) {
    feePayerAuthenticator = aptos.transaction.signAsFeePayer({
      signer: feePayerAccount,
      transaction: generatedTransaction,
    });
    transactionResponse = await aptos.transaction.submit.multiAgent({
      transaction: generatedTransaction,
      senderAuthenticator,
      additionalSignersAuthenticators: secondaryAuthenticators,
      feePayerAuthenticator,
    });
  } else {
    transactionResponse = await aptos.transaction.submit.multiAgent({
      transaction: generatedTransaction,
      senderAuthenticator,
      additionalSignersAuthenticators: secondaryAuthenticators,
    });
  }

  const response = await aptos.waitForTransaction({
    transactionHash: transactionResponse.hash,
  });
  if (!isUserTransactionResponse(response)) {
    throw new Error("Expected user transaction response");
  }
  return response;
};

export const PUBLISHER_ACCOUNT_PK = "ed25519-priv-0xc694948143dea59c195a4918d7fe06c2329624318a073b95f6078ce54940dae9";
export const PUBLISHER_ACCOUNT_ADDRESS = "2cca48b8b0d7f77ef28bfd608883c599680c5b8db8192c5e3baaae1aee45114c";

// script function byte code form `transfer/sources/script_coin_transfer.move`
export const TYPED_SCRIPT_TEST =
  // eslint-disable-next-line max-len
  "a11ceb0b060000000701000202020603080c04140405181a07321b084d2000000001040100010002030101000003040501000002010203060c0305010b0001090001090002060c0302050b000109000004636f696e04436f696e087769746864726177076465706f736974000000000000000000000000000000000000000000000000000000000000000101000001080b000b0138000c030b020b03380102";

// script function byte code from `arguments/sources/script.move` for the transaction_arguments.test.ts script function tests
export const MULTI_SIGNER_SCRIPT_ARGUMENT_TEST =
  // eslint-disable-next-line max-len
  `a11ceb0b060000000601000802080e03160a05203907596408bd0140000000010002010302040700000507010001030608000107020300030804010015060c060c060c060c060c050505050501020d0e03040f0508000b010108020a020001060c01050b01020d0e03040f0508000b010108020a02066f626a656374067369676e657206737472696e670e74785f617267735f6d6f64756c6506537472696e67064f626a6563740d456d7074795265736f757263650a616464726573735f6f66186173736572745f76616c7565735f666f725f7363726970740000000000000000000000000000000000000000000000000000000000000001${PUBLISHER_ACCOUNT_ADDRESS}000001490b0011000b0521040605100b04010b03010b02010b0101066400000000000000270b0111000b06210416051e0b04010b03010b0201066500000000000000270b0211000b07210424052a0b04010b0301066600000000000000270b0311000b0821043005340b0401066700000000000000270b0411000b0921043a053c066800000000000000270b0a0b0b0b0c0b0d0b0e0b0f0b100b110b120b130b14110102${PUBLISHER_ACCOUNT_ADDRESS}000001490b0011000b0521040605100b04010b03010b02010b0101066400000000000000270b0111000b06210416051e0b04010b03010b0201066500000000000000270b0211000b07210424052a0b04010b0301066600000000000000270b0311000b0821043005340b0401066700000000000000270b0411000b0921043a053c066800000000000000270b0a0b0b0b0c0b0d0b0e0b0f0b100b110b120b130b14110102${PUBLISHER_ACCOUNT_ADDRESS}000001150b0011000b012104060508066400000000000000270b020b030b040b050b060b070b080b090b0a0b0b0b0c110102`;

// hard-coded bytecode for the contract, so we don't have to recompile it every time in ci
export const ARGUMENT_TESTS_CONTRACT_METADATA =
  // eslint-disable-next-line max-len
  "0x25417267756d656e7420546573747320666f722074686520547970657363726970742053444b0100000000000000004036323630313636413433453631374235463733454634443741433143363035393341393345364432413545303633373436393932414346414642374636433342f2011f8b08000000000002ffa5903f4fc33010c5777f0acb7bd25662ed5009b13030902daaa2abf35c421a9f659b00427c77ec24441dba55f67277effdee4fed48f774c651581a20f7521dfcf963808db24288411af632be4156df0e41fbce45f9faf8acc4081f3ab6d9b12dd35342d42d1c6c0bab3b84a338b8c8e1c927ec27fb3e097fe485355db2a52c37eba7ac2b347b14bb251878c4c6fc5b97e41a2bf93bc32bee615f4eefd069d0bbf931d30a9e71b987a8a96d3d42c8db4c9ac65cada3b65f3bb5e4276fc3eb28a9f6a044f46403e998eed4d072d6a9daccd71a8bab0637c5fb043a01469381fa0357683d82ac010000010e74785f617267735f6d6f64756c658f241f8b08000000000002ffed1ded72dbb8f17f9f0255677cf2944d4490a23e1c7b9a4b3cd7cc24f1d5963bd7c97838b44439eac9a22a5249dcbbbc7bb124410220002dedbbf6da6126894860b1bb586017c02e08dc278bfd3a26d92edaa4d13c5b259b30daddedefe34d964ea7d917784bc3fb02eaa7df11f6679fc624cd16d3699aed569bbb133931deed929d9296aeee36b19af8299e670dc8640b2c4ca73f5dc5eba5432ef2d7af2ad0ed3f58d91a287f55810ae6a6d32b1d93d9c3360e579b65522261857380e7cf9f93d9c79814bc9175bcb9cb3ea624dac564936424fee73e5a3fcb21e7c926cdc89bf7af2e2e2fcf5fcdc2bfb1ff2e2ec3b7e7efbf9bfd654af6814f4e893b189c4878571b26078efd53b4dec716e425cabfbd7c7b7d7e15bebf9885e77fbd7ef99623a722f24250c425ab9421dbc424da2c782265899b6f3211f5c5f7b33717ef0b7c6f667f0fcf2f2f19a50147ed9950a7c9fde350bb1cb5af45cd8a66d16ac3844116abe532deb1ee57c887641fa34d45ee3021ca090d819000feedcbabf312e6d5c5ebf3f0fbeb6fdfbe7915bebcfceefaddf9fbd995d0669c457dc177d76f676fc2ab37dfbd3fbf14da422af3fafcfbb7177f3fbf64c057b3f0ddcbd9abbf84ef2e5e5fbf3d0f5fbe7e7d797e55911bb13f274c1864f0831b07aec8f1bb973f84d7630638060ac3e1899ae7062cd30d586e301c7acd7c0f84e151903a9df8936044274da0c00fbf7df35d55fbb1ef0723df1f8cbcd160321cba81aba14bc76519f604ddc51fd031f582604207136fec071efbeb8dfc6030f23d77148ca9ebfa1afee93028f1b02720ee0e470cc57842bd91c7284f863ef5868c8f316bcc71301e4d06a3f1d0a3c164c28804c3c01fc03f6fe20f47c331eb59a389ebb974127893098843a077fec3f74c9bce5f87df5e5c300dba4d92352398edf6f1890eaa12bbabcfae254ff500b5e83d3d40e0571a612041c79580877a1026b54a768116a4ea6cd162b18bd39401fe596beab5a5af66976fdeb3e629ecd58bfdf88c95bfedc55fb62c215e848589ede9055d5aaf42de2506103be0905e3fe4cde09065b44ed90fbc901b6e2398fac76499acd7c967468ad9cf2cbe631614ec775aa69720bbfb289bf2520387b80ea10ef433f2a7fac1cd1f2cec42c34bd5155e3ed468e9d083ff7cf86fc8b9356084bec2b1b8818813de04a4a0c45ef1e3173f8750432fe3c83c2aa286370175a5ff9ef0ec0bcf87284177e5b8035fa4046f02258d01f1b4a9be36f5a030a9d040ec451227951b0967963c2ca08f053c54875c6d39d3ec45ac43fe2a8af3973489de2f8ccfff85f11d105c65cc4a6195364d105f95f281fc79f0850991fd1fddcef3df45bccc7f5deae5bffe30c87f47e3899dac62056b83201016133f684ca4c3d21823f92f6324ff658ce4bf8c91fc9731d2034e725658b9fd3c235771b6dfbe8eb2887c8c52f263fc504ec1e14f7cbfcd1ec2622e0cf3ab621afce21c922fe334d9efe6f199a307a7edc03d2bf857896509a2669b432df71b66c55759b9a4e82fe2ed3a798877537254ac128e852a46691aefb2dff78b9ce9b46cdf305956e58ec9a9694c7310d3b0e3938ad83ace08ab6f5ab7aab6ced0c03772a9152b32a8933e7f5cb18aadc80be28995e1d0792f035125bb70172f5959be9e99efe2288b4ba1f7f595121816980e0b0909b8ee62f60ed88a9cfe914256c1739f7c8ac32ce94b89f0e7a8c6ee3432e5b6fee9ab0ca16755e0b1ec5dcb5d721f2aec1de2b768a1e974bb4f3f86b7d1fcc7fed1fdbe683f07fe57c0a18556e48f7c3a97f7dafa9123dbc59fe25d1ad7a894de918236860b50c7534135e52656d5b2e234d92a8c1e3be682f4b1053d6441bee235363e573099562d823abd9452a9e0dbfded7a3527acafee1e726dcfd7da59c4bc086c9296bb135eccd84a73b14bb60e99b9d513ad9ebcea89cd3a98f538ab390ba329990d6adae12d7b7785f7397ba7c2fb82bd7bc27b5c99b2995fdaafe3da3a9999673c03b7c0277008bcb17f43f68f0d23b311fb3766ff2600930302a40ba030fd99c16c67e602b40be02ec0bb50c08512144ad01c379480016a46a1048512144a502841a1048512dee0acaf3394525b094e8efc7113ddc7ac1a5092d94c6d6e3e2367f94747084cae0d131b0ab178a8150f9b2463117956441e4523f2ad88021f8d6868af1ac50b29b06282692316d3c88689cfa0b0c8c6366485eb0d8d6b62c3a51f8bd15dd5daebc5e5281ea58b4009134234428a41c8d4018fd1c360647a81c7e863303205c1631ca26a4ddb0832c0a00495c1a31c215072dd29b0325c18c46304e2528ff0dc4e1048f50a8537da568d2afcb52d358aba08946d348a520cc2361a453d0cc6361a457d0cc6361a4587a85ab7d1281a6050b6d2283a42a094350a83758cc0da569de80481f489eae4610628aeb90545f9cd40ff2ce7419ec30fb033f722a15e7b8ad3f0f93cd96ff205ce91ba3a64f021687ee16697d3f7b9635d492bbde94a6ae94257524bbfb98a813bcb95f4ca432ea797fdaa728bcbb965e49014fd44ce2b97ae87bc2745db84f9ca4c742837200a3989139006c87e6cc5b057fccb4d00c54bdc04509cbb1a12aad7b509d2706a36402aa12bc3650390cb5f1efd1a60bc29ace3595daa882cf326a947930644d124e208d6008126b160c89b44185e9a00d024c268d1048026118cbf86041578909b8483e44d221ae70648d5248abd6d00f226912d6803acd20e9b4de28bee68fecffd8a91d37a52c0dd5239510bafd15d9c85b5fba17ffc4cf6b49c3416c3dc0e815995e27fcec1603073150d8ef518212c782a460a51d85c133608229e4a9145143e6ac20731c753291089c2e799f04188f2548a5ba2f0f9c6fa52457e60b4311887268c79fcf3540e8ba23006068c55acf4b4114845e11d19f0164a0468f9de947db61cf79570eb318ac6d840a3d006a0216a0f0ae5a481322c4c6b1ae65b53fae2a0e60843d2871b9c0a0c9004f2598336908ca3e322e9b0798826fe8ba341b134409f3521611c150f4b05b45c131dc651f1b15440f73591611c95215a6254d72e5833e106583ab999d00567717446483a7c8a690a67e2a88d91d40acbe2e483656501a4bc3ecec0b8587350589c826216a759999096d0487254631c8a49052727cedf1cc2f709c25eb7c2d78c23e322c914368853816d6f7d690a81244791e4c014e9895d8f8f1d0c250f4b096c8f8114d31d5cb57c2c31304106621ec5556c88a50586c8402bf071b402b410a9b9c1581e528c232cb9dc2819c8b13c24b931925c65b1f41479e41c47748224ca0d9744d33a4fc231e0610d0bb7631203e2240a49cf959d2ab537659edc6fd7f1179d3b6511b360eb43b861e693d172757b4d1c03305581b977cb54c0ab57cc921f89973316f4554a86f27554555acd29750c411cd16e95261bd3361adddc0c97a66ed0504466a3cdabc1e8dbc7d0c7e7aadc951db0dc157e2af7401ba2635b2d3d6d2d0d6dc66a2b71e1585fede2f56de235f519c680997de79179229fa5ea0370a1f7abeca1aff449c7d2491d8d43c08a8d3a966ee7e40e81c606947fadb60a16cf5ef79f2387dcfeacec40d15a39007424b741b3fbb942e78bbf64bb689e157b47226b316a2a76ab14d34e2305f26237a332b35f71e2f21d4b6734884bc45648e9e7087e1b8066d9e6e08ee444692be1e86059b3986f35655bca5a65fdab227b61447bfe9cbc8a36df30ba319947eb75bc20b0838b44249def56db8c6ca38775122d94e16fbb5b7d82fd689ae1af0b2674c1842e98d005137ead6082398e29591fa732364e695e1c6e521c6e451c6e389cca5638957570447be008eaef08eaee68061fd9a75ab22078294567a2e8f2131d7392fb4cf271a98e28c55524fb7124ee743e17c93522382e44cf82b8f01717e6d2c2595ad6aa8b4e653dd8e0ae65e43abcdfafb3155b7e955b99b1834f99c714cc94e5598af9e662434db1e29d4b22b619b76e54ec46c56e54ec46c5a786d85593136e61ddb008571bdd4755f29700cd6f722a53aa6c38d2801e55a6f5306c656a5ba0f5f1688702e8cd8198872a2fc72241c7fae5b8b89eede627ffe7f313cb2ab89b997433936e66d2cd4cba998979bd6eb191ea00c9cd62fde8d58f7efd386c8edcddf0fa3fbefc5f6dd6ab4d9c0fb3bac9db8b59f159e919ec5c1182acb3b35c0842241552a0c5569b45fc251f7174df5af2b8417148142bd43fca11e7dbf80d996cb64bf203b2a6d3d5e6130b1bc109016c3ed0371c24c502ca152362b84f8859bc98396456d6a9ac88352ef4fb7e040cde1a18d192fb8a94b7140f33c9bb127243ee624e6bf9d7852deda002fd1aed21772b4e0edd3e6aa73d2b835235ddf6ed2285ab0065a9566e65ad81db32914a89e676582d499fc7a3566998efc4827ece711f1f1bfa9fa590b13d0c079699dae32b89d7697c983e84d89f40df35d1e7ebeb781dc3082644ee6e1386feb32ca8132b9bfc6cb49a4987e36dc72d354a4b09ef5d6cd60f04f6f2c1d14a70645e11d7834ff7c96e75f731239be4f333f22e61100903d9e5c72fa52459926acc8663ed204898eeb7db64c742b1cfc42e2adae8fc14bcfc6c80824ebf5b4ba09601ffdd2f285a7c1ed1eadb87561f36b4fa6aa1e527092dbf3778d4c7044ffe52a0ed670093276e8daff6f097c6e20f1f3eade2cf37aa6a436218add7da607fa7d49d83a07310740e02ab83604a6a8b21db09d13e486641b206921190555f517855c755bd46e9b24ef7f40aab85d469a6561bb51aa8573abd9e19f5caa448073547d7d3f5ea61819405a0edfbdafeaeefe2fa5e6decc5a66e8b7264d5132ec529c57d498d54b1030b839c2651ecd0c210a72b4e7548a58eae8c6ecd8c54e9f8f2a066f15be9729a55af6716da645500829f4b9bae8a41f47f69331ac250fc62ba3c9d48b0fe325d4e532ab51f4d9bac4a45f0af69d355a9887e376d46432a8a3f4e97a7938ac94f87982cda76b8abc3bca06edce5721f6dfbfa233b999b25557d2cd27c3a3d163c2922a78207455d33b1e8986eb5552cebc3bb7572cb3c2c15c499e91447a45cc40fea80765f3f1a9136c9986d01e24187aa044e0c16af8651d6950e0a8ce2c03c43e7529a4cfb25e281d9a022847ec53fa958e44fde712918b9814e7083277c6d61c14d6edaf78e3a8c9177933a08a13c201aff49f596bb8472d067c983228efe1127a8ecd968579a3ea9b4b8b744514ea86a75dceca9e9a8d9329a444fe1c8e1ead583d7dbead587d779f53a84d7455d369caf993f54c6e0d789ace03cd9e58feef14d759a6ede14b0d8662f395bd28765cae9ba8d98be660301e7dd5cc83716b2ec1e28ab672cea9bf2a1d20ada03ddb8bae7631947d99e41c9df2b95a9ac2bf37c382f970971bf5a48bdb9ce9e7f8c367771582684cb757497f68131eee4ff5066dd540937e2169fe233a9a2316a9f10b11d6c7ca2dba945ed858f3898beb4672fcda1f4857d1c695f5f7a88223d1465a63b261abf6d4a7f7eadecc5d4675d8f4d19ea744cf2461a72d42999ec66346435a6650ddfa17956d3f0124aa0077cc0bab96e79c6879e1ff1740e2b8451aac2a1187600a38c85a3280e90a08798300b5e39b5a12154e3b7a00d48fd29099ae9b474bc81365f77300102100e15c080c1810018388fe2e0021f49972219cc3f7e470056dfac9b610f7c6b6e2e7840a38ea55d0bb5f1327f0ed759afce7a75d6abb35ebf3debc51f1fbb53cf70a780b43ed0e679da54df5262a8b505c20531ea6cdc694cb19dc6b4d969cc859dc6fcd621379dd1ee8c7667b43ba3fd5b9f723ec95ab7b1d39d85ee2c7467a13b0bdd5968bb85eece49ebce49fb2f9d9326445b8cc714169302e3096916388a84f39070be164e54a5e7cf59fc80c1460bd8960e1f65c38e5ab82a18aed52070a59b433ec7794e9d0cb76da445f22e85ebda49968a28f3ddee9f5790957db38013b076f162bf59449becd9b36722240bfbc5f1721e2d81d68ff1a638236b117ffa5315a96d5e73295a9bdb1eec16e9b5beab4d41b21ff75a5ed2a62270835edbebd954141eedb5bd984d4511f8bdb657b2352a42adb2d0dfc6a62261834baff5456c0a92b207f41e730d9b828a858299012cd30a33d17bc4856c3aac3c805eee61a83b34c3989b87b40cce4da77250bdf7f45bdc147ec40d95bd47dfe3a647ca74a0f7c87bdc0c08994af41e7b919b01255391de636f7233a0642ad37bec556ea68a53942c0d574f19908246f51e7d9d9b1e2957afde13ef74d363d7e8248292f9562a0b9547eb288221f48d565ae351cecdc49dc0bd47df1787a0605763ebe57118ec769db65f2587c16f5770fbc57218fc766db75f3387920f45c91fa7fa5a0a07ecc0814be810141046e1f0b574083a2dcdc3c14bebb0247f155bd1f6f63bbd2d934c9accba25eb89b5823fbdffd89d7bbab30bbefeeedf47c451f47e8b000000000400000000000000000000000000000000000000000000000000000000000000010e4170746f734672616d65776f726b00000000000000000000000000000000000000000000000000000000000000010b4170746f735374646c696200000000000000000000000000000000000000000000000000000000000000010a4d6f76655374646c69620000000000000000000000000000000000000000000000000000000000000004114170746f73546f6b656e4f626a6563747300";

// interpolate a named address into the contract bytecode
export async function getContractBytecode() {
  // eslint-disable-next-line max-len
  return `0xa11ceb0b060000000c01001002101c032cc00104ec018e0205fa03990b07930ff704088a144006ca14aa0710f41b82020af61d1a0c901efb340d8b5306000001010102010301040105010601070008080000090800050a0700020b07010001030d0701000002280200000c000100000e020100000f0103000010010400001101050000120601000013070100001408010000150701000016080100001701011f000000000000000000000000000000000000000000000000000000000000000018090105020202020800190a0a00051e0c0d00011f0f0f0007201001010003211213010003221617010003231617010003241618010003251917010003261a12010002271d1e01080429061e00022a1e2200022b232400022c23250108032d01130100062e010d01000f0e10030f0c0f030f0d0f14110312031303140315030f15161c1a1c0f210f170f270f280f0f0f290f2a0f1e1b0e110e120e130e140e10171117121713171417100e1027112712271327142710281128122813281428100f110f120f130f140f10291129122913291429102a112a122a132a142a101e111e121e131e141e100d110d120d130d140d102111211221132114211c121c171c2d1c0e1c2e1c271c2f1c281c301c0f1c311c291c321c2a1c331c1e1c341c0d1c351c211c361c371c381c0c1c391c3a1c3b1c3c1c3d1c3e1c3f1c401c411c421c431c441c451c031c461c471c481c491c4a1c4b1c4c1c4d1c4e1c4f1c501c511c521c531c541c551c561c571c581c591c5a1c5b1c5c1c5d0b01020d0e03040f0508020b030108000a0200040a0a020a0a08020a0b04010a08020a0a0b04010a0802010a080203050505030b030108000b030108000b0301080001060c21060c01020d0e03040f0508020b030108000a020a010a020a0d0a0e0a030a040a0f0a050a08020a0b030108000b0401020b0401010b0401020b04010d0b04010e0b0401030b0401040b04010f0b0401050b040108020b04010b0301080026060c0c060c0c060c0a0501020d0e03040f0508020b030108000a020a010a020a0d0a0e0a030a040a0f0a050a08020a0b030108000b0401020b0401010b0401020b04010d0b04010e0b0401030b0401040b04010f0b0401050b040108020b04010b030108000509000901090209030b030109042001020d0e03040f0508020b030108000a020a010a020a0d0a0e0a030a040a0f0a050a08020a0b030108000b0401020b0401010b0401020b04010d0b04010e0b0401030b0401040b04010f0b0401050b040108020b04010b0301080009030b03010800030a020a020a020a020a020a02010a020108020102010301070a0900530b04010a08020b04010a080203030303030303030b04010a08020b04010a08020a0a08020a0b04010a08020a0a0b04010a0802060a0802060a08020303030303030303030b04010a08020b04010a08020b04010a08020b04010a08020a08020a08020a08020a08020b04010a08020a0a0b04010a08020a0a020a020a020a0a020a0a08020a08020a08020a0a08020a0b04010a08020a08020a08020a0b04010a08020a0a0b04010a08020a0b04010a08020a08020a08020a0b04010a08020a0a0b04010a08020a0a020a020a020a0a020a0a08020a08020a08020a0a08020a0b04010a08020a08020a08020a0b04010a08020a0a0b04010a08020a0b04010a08020a08020a08020a0b04010a08020a0a020a020a0a08020a08020a08020a08020a0a020a020a0a08020a08020a08020a0802010900010b04010900010b04010a0802010a0b04010a080201060b0401090001010106090002060b0401090006090001070b0401090007070a08020a02030a08020a020a0a020a0a0201080001060b03010900010501060801060805030b030108000c0a0b030108000801010b0301080001080501060805010c010b0301090089010a0b0301080003030303030303030303030303030303030303030303060206010602060d060e06030604060f0605060802060b030108000b0301080003030303030303030303030b030108000b030108000b030108000b0401020b0401010b0401020b04010d0b04010e0b0401030b0401040b04010f0b0401050b040108020b04010b030108000b0401020b0401010b0401020b04010d0b04010e0b0401030b0401040b04010f0b0401050b040108020b04010b030108000a020a020a010a010a020a020a0d0a0d0a0e0a0e0a030a030a040a040a0f0a0f0a050a050a08020a08020a0b030108000a0b030108000a020a020a010a010a020a020a0d0a0d0a0e0a0e0a030a030a040a040a0f0a0f0a050a050a08020a08020a0b030108000a0b030108000a020a010a020a0d0a0e0a030a040a0f0a050a08020a0b030108000a020a010a020a0d0a0e0a030a040a0f0a050a08020a0b03010800010d010e0104010f0903030a050a050a050a050a050a050a051e01010101010101010101010101010101010101010101010101010101010101090101090201090301090401090501090601090701090801090901090a010a0101090b01090c010a0d01090d010a0e01090e010a0301090f010a04010910010a0f010911010a05010912010913010a0b03010800010914010b040101010915010b040102010916010b04010d010917010b04010e010918010b040103010919010b04010401091a010b04010f01091b010b04010501091c010b0401080201091d010b04010b0301080001091e010a0a0b04010a0b04010b030108000e74785f617267735f6d6f64756c65056572726f72066f626a656374066f7074696f6e067369676e657206737472696e6709747970655f696e666f06766563746f720d456d7074795265736f757263650953657475704461746106537472696e67064f626a656374186173736572745f76616c7565735f666f725f736372697074064f7074696f6e11636f6d706c65785f617267756d656e74731a6765745f65787065637465645f766563746f725f737472696e67196765745f746573745f6f626a6563745f616464726573736573106765745f746573745f6f626a656374730b696e69745f6d6f64756c6511707269766174655f617267756d656e747322707269766174655f617267756d656e74735f6d756c7469706c655f7369676e657273107075626c69635f617267756d656e7473217075626c69635f617267756d656e74735f6d756c7469706c655f7369676e65727309747970655f7461677312747970655f746167735f666f725f6172677312766965775f616c6c5f617267756d656e74730b64756d6d795f6669656c640e656d7074795f6f626a6563745f310e656d7074795f6f626a6563745f320e656d7074795f6f626a6563745f3304757466380d696e76616c69645f7374617465077265766572736504736f6d650769735f6e6f6e650769735f736f6d6506626f72726f7708636f6e7461696e7307657874726163740e6f626a6563745f616464726573730e436f6e7374727563746f725265660a616464726573735f6f660d6372656174655f6f626a6563740f67656e65726174655f7369676e65721b6f626a6563745f66726f6d5f636f6e7374727563746f725f726566046e6f6e6509747970655f6e616d65${PUBLISHER_ACCOUNT_ADDRESS}00000000000000000000000000000000000000000000000000000000000000010308d007000000000000030810270000000000000308611e0000000000000520${PUBLISHER_ACCOUNT_ADDRESS}0101010a02100f65787065637465645f737472696e670410050000000000000000000000000000000d0202000f2006000000000000000000000000000000000000000000000000000000000000000e0403000000030804000000000000000201010a05c1010600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000abc0000000000000000000000000000000000000000000000000000000000000def0000000000000000000000000000000000000000000000000000000000000123000000000000000000000000000000000000000000000000000000000000045600000000000000000000000000000000000000000000000000000000000007890a0104030100010a0a0225060f65787065637465645f737472696e6703616263036465660331323303343536033738390a046106000000000000000000000000000000000100000000000000000000000000000002000000000000000000000000000000fdfffffffffffffffffffffffffffffffeffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0a0d0d06000001000200fdfffeffffff0a0fc10106000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000fdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0a0e1906000000000100000002000000fdfffffffeffffffffffffff0a033106000000000000000001000000000000000200000000000000fdfffffffffffffffeffffffffffffffffffffffffffffff0a020706000102fdfeff030864000000000000000410ffffffffffffffffffffffffffffffff0d02ffff0f20ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0e04ffffffff0308ffffffffffffffff0201ff03082c01000000000000030890010000000000000308f4010000000000000308c8000000000000000a020100126170746f733a3a6d657461646174615f7631ed010601000000000000000b45585045435445445f55380002000000000000000c45585045435445445f5531360003000000000000000c45585045435445445f5533320004000000000000000c45585045435445445f5536340005000000000000000d45585045435445445f553132380006000000000000000d45585045435445445f55323536000004106765745f746573745f6f626a6563747301010012766965775f616c6c5f617267756d656e7473010100196765745f746573745f6f626a6563745f6164647265737365730101001a6765745f65787065637465645f766563746f725f737472696e670101000002011a010102031b0b030108001c0b030108001d0b0301080000010001010b8e0107032b011000140c0c0b00070421040a050c060000000000000000270b01070b2104110513060100000000000000270b020707210418051a060200000000000000270b03070921041f0521060300000000000000270b04070a2104260528060400000000000000270b05070621042d052f060500000000000000270b0607082104340536060600000000000000270b07070321043b053d060700000000000000270b080705110d2104430545060800000000000000270b090b0c21044a054c060900000000000000270b0a0714060a000000000000000c0b0c130c120e12410e0e13410e210459055e07150b0b16110e270b120b130c100c0e0d0e38000d1038000b0e0b100c110c0f0e0f410e0c0d0a0d0e11410e2104730575060200020000000000270a0d06000000000000000024048901057a0d0f450e0d11450e210481010584010b0b110e270b0d060100000000000000170c0d05750b0f460e00000000000000000b11460e0000000000000000020100040011e704110211021102400303000000000000000c10110238010c260a260a260b26401403000000000000000c110a110a110a11401503000000000000000c120b00071407140714400c03000000000000000600000000000000000c060c510c4b0e4b410c0e51410c210422052707150b0616110e270b4b0b510c3a0c280d2838020d3a38020b280b3a0c3d0c2b0e2b410c0c170a170e3d410c21043c053e060200020000000000270a1706000000000000000024048b0105430d2b450c0d3d450c0a060c070c520c4c0e4c410e0e52410e210452055707150b0716110e270b4c0b520c3b0c290d2938000d3b38000b290b3b0c3c0c2a0e2a410e0c160a160e3c410e21046c056e060200020000000000270a160600000000000000002404820105730d2a450e0d3c450e21047a057d0b07110e270b16060100000000000000170c16056e0b2a460e00000000000000000b3c460e00000000000000000b17060100000000000000170c17053e0b2b460c00000000000000000b3d460c00000000000000000b010b100601000000000000000c080c530c4d0e4d41030e53410321049c0105a10107150b0816110e270b4d0b530c3e0c2c0d2c38030d3e38030b2c0b3e0c410c2f0e2f41030c190a190e4141032104b60105b801060200020000000000270a190600000000000000002404850205bd010d2f45030d4145030a080c090c540c4e0e4e410d0e54410d2104cc0105d10107150b0916110e270b4e0b540c3f0c2d0d2d38040d3f38040b2d0b3f0c400c2e0e2e410d0c180a180e40410d2104e60105e801060200020000000000270a180600000000000000002404fc0105ed010d2e450d0d40450d2104f40105f7010b09110e270b18060100000000000000170c1805e8010b2e460d00000000000000000b40460d00000000000000000b19060100000000000000170c1905b8010b2f460300000000000000000b41460300000000000000000b020b110c420c300d3038050d4238050b300b420c450c330e3341140c1b0a1b0e45411421049e0205a002060200020000000000270a1b0600000000000000002404a00305a5020d3345140d4545140c0e0c040a040a0e0602000000000000000c0a0c200c1e0e1e380604be020e20380604b80205bd02071c0b0a16110e2705d4020e20380704c20205c702071d0b0a16110e270e1e38080c130e200b13380904cf0205d402071e0b0a16110e270d04380a0c220d0e380a0c240b220b240602000000000000000c0b0c550c4f0e4f410d0e55410d2104e70205ec0207150b0b16110e270b4f0b550c430c310d3138040d4338040b310b430c440c320e32410d0c1a0a1a0e44410d21048103058303060200020000000000270a1a060000000000000000240497030588030d32450d0d44450d21048f030592030b0b110e270b1a060100000000000000170c1a0583030b32460d00000000000000000b44460d00000000000000000b1b060100000000000000170c1b05a0020b33461400000000000000000b45461400000000000000000b030b120c460c340d34380b0d46380b0b340b460c390c270e2741150c150a150e3941152104b90305bb03060200020000000000270a150600000000000000002404e20405c0030d2745150d3945150c470c350d3538050d4738050b350b470c4a0c380e3841140c1d0a1d0e4a41142104d70305d903060200020000000000270a1d0600000000000000002404d90405de030d3845140d4a45140c0f0c050a050a0f0603000000000000000c0c0c210c1f0e1f380604f7030e21380604f10305f603071c0b0c16110e27058d040e21380704fb03058004071d0b0c16110e270e1f38080c140e210b143809048804058d04071e0b0c16110e270d05380a0c230d0f380a0c250b230b250603000000000000000c0d0c560c500e50410d0e56410d2104a00405a50407150b0d16110e270b500b560c480c360d3638040d4838040b360b480c490c370e37410d0c1c0a1c0e49410d2104ba0405bc04060200020000000000270a1c0600000000000000002404d00405c1040d37450d0d49450d2104c80405cb040b0d110e270b1c060100000000000000170c1c05bc040b37460d00000000000000000b49460d00000000000000000b1d060100000000000000170c1d05d9030b38461400000000000000000b4a461400000000000000000b15060100000000000000170c1505bb030b27461500000000000000000b394615000000000000000002020100001b24400d00000000000000000c03070e0c050d0538020b050c060e06410c0c020a0206000000000000000024042005100d06450c0c010d030c000b010c040b000b04110d440d0b02060100000000000000170c02050b0b06460c00000000000000000b03020301000101050b11040c020c010c000e00380c0e01380c0e02380c0204010001011f0d07032b010c000a001000140a001001140b00100214020500000020360a0011170703210406050a0b0001070227402100000000000000000c050600000000000000000c020a020603000000000000002304280513070311180c010e0111190c040e040912002d000e01380d0c030d050b0344210b02060100000000000000160c02050e0d05380e0d0545210d0545210d05452112010c060b000b062d0102060004010101230b000b010b020b030b040b050b060b070b080b090b0a0b0b0b0c0b0d0b0e0b0f0b100b110b120b130b140b150b160b170b180b190b1a0b1b0b1c0b1d0b1e0b1f0b20110802070004010101280b000b010b020b030b040b050b060b070b080b090b0a0b0b0b0c0b0d0b0e0b0f0b100b110b120b130b140b150b160b170b180b190b1a0b1b0b1c0b1d0b1e0b1f0b200b210b220b230b240b25110902080104010126af0a07032b011000140c430b01070421040a050e070106000000000000000016270b02070b2104130517070106010000000000000016270b03070721041c0520070106020000000000000016270b0407092104250529070106030000000000000016270b05070a21042e0532070106040000000000000016270b060706210437053b070106050000000000000016270b0707082104400544070106060000000000000016270b080703210449054d070106070000000000000016270b090705110d2104530557070106080000000000000016270b0a0a4321045c0560070106090000000000000016270b0b07200701060a00000000000000160c220c9f010c94010e9401410e0e9f01410e21046f057407150b2216110e270b94010b9f010c7e0c680d6838000d7e38000b680b7e0c7f0c690e69410e0c440a440e7f410e21048901058b01060200020000000000270a4406000000000000000024049f010590010d69450e0d7f450e21049701059a010b22110e270b44060100000000000000170c44058b010b69460e00000000000000000b7f460e00000000000000000b0c070d0701060b00000000000000160c230ca0010c95010e950141170ea00141172104b20105b70107150b2316110e270b95010ba0010c80010c6a0d6a380f0d8001380f0b6a0b80010c81010c6b0e6b41170c450a450e810141172104cc0105ce01060200020000000000270a450600000000000000002404e20105d3010d6b45170d810145172104da0105dd010b23110e270b45060100000000000000170c4505ce010b6b461700000000000000000b8101461700000000000000000b0d07140701060c00000000000000160c240ca1010c96010e9601410e0ea101410e2104f50105fa0107150b2416110e270b96010ba1010c82010c6c0d6c38000d820138000b6c0b82010c83010c6d0e6d410e0c460a460e8301410e21048f02059102060200020000000000270a460600000000000000002404a5020596020d6d450e0d8301450e21049d0205a0020b24110e270b46060100000000000000170c460591020b6d460e00000000000000000b8301460e00000000000000000b0e07100701060d00000000000000160c250ca2010c97010e970141270ea20141272104b80205bd0207150b2516110e270b97010ba2010c84010c6e0d6e38100d840138100b6e0b84010c85010c6f0e6f41270c470a470e850141272104d20205d402060200020000000000270a470600000000000000002404e80205d9020d6f45270d850145272104e00205e3020b25110e270b47060100000000000000170c4705d4020b6f462700000000000000000b8501462700000000000000000b0f07120701060e00000000000000160c260ca3010c98010e980141280ea30141282104fb0205800307150b2616110e270b98010ba3010c86010c700d7038110d860138110b700b86010c87010c710e7141280c480a480e8701412821049503059703060200020000000000270a480600000000000000002404ab03059c030d7145280d870145282104a30305a6030b26110e270b48060100000000000000170c480597030b71462800000000000000000b8701462800000000000000000b1007130701060f00000000000000160c270ca4010c99010e9901410f0ea401410f2104be0305c30307150b2716110e270b99010ba4010c88010c720d7238120d880138120b720b88010c89010c730e73410f0c490a490e8901410f2104d80305da03060200020000000000270a490600000000000000002404ee0305df030d73450f0d8901450f2104e60305e9030b27110e270b49060100000000000000170c4905da030b73460f00000000000000000b8901460f00000000000000000b11070f0701061000000000000000160c280ca5010c9a010e9a0141290ea50141292104810405860407150b2816110e270b9a010ba5010c8a010c740d7438130d8a0138130b740b8a010c8b010c750e7541290c4a0a4a0e8b01412921049b04059d04060200020000000000270a4a0600000000000000002404b10405a2040d7545290d8b0145292104a90405ac040b28110e270b4a060100000000000000170c4a059d040b75462900000000000000000b8b01462900000000000000000b1207110701061100000000000000160c290ca6010c9b010e9b01412a0ea601412a2104c40405c90407150b2916110e270b9b010ba6010c8c010c760d7638140d8c0138140b760b8c010c8d010c770e77412a0c4b0a4b0e8d01412a2104de0405e004060200020000000000270a4b0600000000000000002404f40405e5040d77452a0d8d01452a2104ec0405ef040b29110e270b4b060100000000000000170c4b05e0040b77462a00000000000000000b8d01462a00000000000000000b13070c0701061200000000000000160c2a0ca7010c9c010e9c01411e0ea701411e21048705058c0507150b2a16110e270b9c010ba7010c8e010c780d7838150d8e0138150b780b8e010c8f010c790e79411e0c4c0a4c0e8f01411e2104a10505a305060200020000000000270a4c0600000000000000002404b70505a8050d79451e0d8f01451e2104af0505b2050b2a110e270b4c060100000000000000170c4c05a3050b79461e00000000000000000b8f01461e00000000000000000b1411020701061300000000000000160c2b0ca8010c9d010e9d01410d0ea801410d2104ca0505cf0507150b2b16110e270b9d010ba8010c90010c7a0d7a38040d900138040b7a0b90010c91010c7b0e7b410d0c4d0a4d0e9101410d2104e40505e605060200020000000000270a4d0600000000000000002404fa0505eb050d7b450d0d9101450d2104f20505f5050b2b110e270b4d060100000000000000170c4d05e6050b7b460d00000000000000000b9101460d00000000000000000b150c2111040c510c500c4f0b210b4f0b500b51402103000000000000000701061400000000000000160c2c0ca9010c9e010e9e0141210ea901412121049606059b0607150b2c16110e270b9e010ba9010c92010c7c0d7c380e0d9201380e0b7c0b92010c93010c7d0e7d41210c4e0a4e0e930141212104b00605b206060200020000000000270a4e0600000000000000002404c60605b7060d7d45210d930145212104be0605c1060b2c110e270b4e060100000000000000170c4e05b2060b7d462100000000000000000b9301462100000000000000000b1638160701061500000000000000160c2d0c5d0c520e52381704df060e5d381704d90605de06071c0b2d16110e2705f5060e5d381804e30605e806071d0b2d16110e270e5238190c380e5d0b38381a04f00605f506071e0b2d16110e270b170704381b0701061600000000000000160c2e0c5e0c530e53381c048b070e5e381c048507058a07071c0b2e16110e2705a1070e5e381d048f07059407071d0b2e16110e270e53381e0c390e5e0b39381f049c0705a107071e0b2e16110e270b18070b38200701061700000000000000160c2f0c5f0c540e54381704b7070e5f381704b10705b607071c0b2f16110e2705cd070e5f381804bb0705c007071d0b2f16110e270e5438190c3a0e5f0b3a381a04c80705cd07071e0b2f16110e270b19070738210701061800000000000000160c300c600c550e55382204e3070e60382204dd0705e207071c0b3016110e2705f9070e60382304e70705ec07071d0b3016110e270e5538240c3b0e600b3b382504f40705f907071e0b3016110e270b1a070938260701061900000000000000160c310c610c560e563827048f080e613827048908058e08071c0b3116110e2705a5080e613828049308059808071d0b3116110e270e5638290c3c0e610b3c382a04a00805a508071e0b3116110e270b1b070a382b0701061a00000000000000160c320c620c570e57382c04bb080e62382c04b50805ba08071c0b3216110e2705d1080e62382d04bf0805c408071d0b3216110e270e57382e0c3d0e620b3d382f04cc0805d108071e0b3216110e270b1c070638300701061b00000000000000160c330c630c580e58383104e7080e63383104e10805e608071c0b3316110e2705fd080e63383204eb0805f008071d0b3316110e270e5838330c3e0e630b3e383404f80805fd08071e0b3316110e270b1d070838350701061c00000000000000160c340c640c590e5938360493090e643836048d09059209071c0b3416110e2705a9090e643837049709059c09071d0b3416110e270e5938380c3f0e640b3f383904a40905a909071e0b3416110e270b1e0703383a0701061d00000000000000160c350c650c5a0e5a383b04bf090e65383b04b90905be09071c0b3516110e2705d5090e65383c04c30905c809071d0b3516110e270e5a383d0c400e650b40383e04d00905d509071e0b3516110e270b1f0705110d383f0701061e00000000000000160c360c660c5b0e5b384004ec090e66384004e60905eb09071c0b3616110e2705820a0e66384104f00905f509071d0b3616110e270e5b38420c410e660b41384304fd0905820a071e0b3616110e270b200b4338440701061f00000000000000160c370c670c5c0e5c384504980a0e67384504920a05970a071c0b3716110e2705ae0a0e673846049c0a05a10a071d0b3716110e270e5c38470c420e670b42384804a90a05ae0a071e0b3716110e270209010401012b760a0011170e0111170b0211170e0311170b041117401e05000000000000000c280b050b2807000c260c2e0c2d0e2d411e0e2e411e21041905200b000107150b2616110e270b2d0b2e0c2b0c290d2938150d2b38150b290b2b0c2c0c2a0e2a411e0c270a270e2c411e21043505390b0001060200020000000000270a2706000000000000000024044f053e0d2a451e0d2c451e210445054a0b00010b26110e270b27060100000000000000170c2705390b2a461e00000000000000000b2c461e00000000000000000b000b060b070b080b090b0a0b0b0b0c0b0d0b0e0b0f0b100b110b120b130b140b150b160b170b180b190b1a0b1b0b1c0b1d0b1e0b1f0b200b210b220b230b240b251108020a0104002c96023849384a210409384b384c210c00050b090c000b000412384d384e210c0b0514090c0b0b0b041b384f3850210c16051d090c160b16042438513852210c180526090c180b18042d38533854210c19052f090c190b19043638553856210c1a0538090c1a0b1a043f38573858210c1b0541090c1b0b1b04483859385a210c1c054a090c1c0b1c0451385b385c210c1d0553090c1d0b1d045a385d385e210c01055c090c010b010463385f3860210c020565090c020b02046c38613862210c03056e090c030b03047538633864210c040577090c040b04047e38653866210c05058001090c050b0504870138673868210c06058901090c060b060490013869386a210c07059201090c070b07049901386b386c210c08059b01090c080b0804a201386d386e210c0905a401090c090b0904ab01386f3870210c0a05ad01090c0a0b0a04b40138713872210c0c05b601090c0c0b0c04bd0138733874210c0d05bf01090c0d0b0d04c60138753876210c0e05c801090c0e0b0e04cf0138773878210c0f05d101090c0f0b0f04d8013879387a210c1005da01090c100b1004e101387b387c210c1105e301090c110b1104ea01387d387e210c1205ec01090c120b1204f301387f388001210c1305f501090c130b1304fc01388101388201210c1405fe01090c140b14048502388301388401210c15058702090c150b15048e02388501388601210c17059002090c170b1704930205950206000000000000000027020b0104000101020c01000001210b000b010b020b030b040b050b060b070b080b090b0a0b0b0b0c0b0d0b0e0b0f0b100b110b120b130b140b150b160b170b180b190b1a0b1b0b1c0b1d0b1e0b1f0201000101010200`;
}

export async function publishArgumentTestModule(
  aptos: Aptos,
  senderAccount: Account,
): Promise<UserTransactionResponse> {
  const contractBytecode = await getContractBytecode();
  const response = await publishPackage(aptos, senderAccount, ARGUMENT_TESTS_CONTRACT_METADATA, [contractBytecode]);
  return response;
}

export const singleSignerScriptBytecode =
  // eslint-disable-next-line max-len
  "a11ceb0b060000000701000402040a030e0c041a04051e20073e30086e2000000001010204010001000308000104030401000105050601000002010203060c0305010b0001080101080102060c03010b0001090002050b00010900000a6170746f735f636f696e04636f696e04436f696e094170746f73436f696e087769746864726177076465706f7369740000000000000000000000000000000000000000000000000000000000000001000001080b000b0138000c030b020b03380102";

export const multiSignerScriptBytecode =
  // eslint-disable-next-line max-len
  "a11ceb0b060000000701000402040a030e18042608052e4307713e08af01200000000101020401000100030800010403040100010505060100010607040100010708060100000201020202030207060c060c0303050503030b000108010b000108010b0001080101080102060c03010b0001090002070b000109000b000109000002070b000109000302050b000109000a6170746f735f636f696e04636f696e04436f696e094170746f73436f696e087769746864726177056d657267650765787472616374076465706f73697400000000000000000000000000000000000000000000000000000000000000010000011a0b000a0238000c070b010a0338000c080d070b0838010d070b020b03160b061738020c090b040b0738030b050b09380302";

export async function publishTransferPackage(aptos: Aptos, senderAccount: Account) {
  await publishPackage(
    aptos,
    senderAccount,
    // eslint-disable-next-line max-len
    "107472616e73616374696f6e5f746573740100000000000000004035364643333939394442364244363842383430304539323438363839393837413338313439344644413241343631334144373946333630323134353539324545ba011f8b08000000000002ff5d8f3d0ec2300c85779f0265e944032b12030b97a8aaca4d4c1b95fc284e0bc72729a503f2e2a7f7d97e6e02aa09076ac1a1a5c3f5205244c7a892f1ae4bc449c04291b32ae6a9ce25001a4d819c26a70c717d0bc9f33de6052f1fa7160693325c8d2905be4899e538f7b5f25662218f4fec796b958f5467a082484b19b2685c053cf7dac4a2bf98f50bc9c7efc236bbeb2a0742ad233113b7b0baddeeaeb9df6701ff9f15a3131fec1509190201000001087472616e73666572ca021f8b08000000000002ff9552cb4ec33010bcf72bf654a522dc10071790101f12b9f1a6582476e407a142fd77fc48d23826125891627b661fb39e4e32db22184585a6b5e1525406b52124dc34a8e07b07e03eab11686fa4ae1a453b1ca4fa20245ed4928be33629c03b87f6f6d4f21a50187581c60a3083ac4e97cafd0a07c7d570e5cac35ef3b34055cef71a6b29d82f00eda415a61ae3ece343064da109c6f41c431953a8758a4d413988bdd43c2f780893f2ab45035e74a4c07338103270f3ce141d9e6e5323e4d5efdfdcf6a508ec32d17338ae53c6b6fe9c33d2cb741287f01a7e457e87ea8cc5beb3cbb6cb65bd5bc45623f8e50c539b3ccb520edca58dc07d3acd75632358cc6f552e52cfb3c9b993ea5481e75e6381dc89a3db8b85df0443b5e9b7959b14d61c3f3d3ff14bee897fbc9caf3fcd6f43ec54364a9d355e7f00fb8d2dcfd603000000000300000000000000000000000000000000000000000000000000000000000000010e4170746f734672616d65776f726b00000000000000000000000000000000000000000000000000000000000000010b4170746f735374646c696200000000000000000000000000000000000000000000000000000000000000010a4d6f76655374646c696200",
    [
      // eslint-disable-next-line max-len
      `a11ceb0b060000000801000602060a031022043208053a4e0788015208da01400c9a024c000001010102020404010001010508000000000100000302010002060506010002070701010002080901010002090a060100020403040404050403060c03050007060c060c0303050503010b0001080101080102060c03010b0001090002050b00010900030b000108010b000108010b0001080102070b000109000b0001090002070b0001090003087472616e736665720a6170746f735f636f696e04636f696e0a74776f5f62795f74776f04436f696e094170746f73436f696e087769746864726177076465706f736974056d657267650765787472616374${senderAccount.accountAddress.toStringWithoutPrefix()}00000000000000000000000000000000000000000000000000000000000000010001040003080b000b0138000c030b020b0338010201010400081a0b000a0238000c070b010a0338000c080d070b0838020d070b020b03160b061738030c090b040b0738010b050b0938010200`,
    ],
  );
}
